import{Q as x}from"./QSpace-i7A2QGL0.js";import{e as u,f as q,Q as f,a as v}from"./format-BjjdGa9V.js";import{Q as w,C as g}from"./ClosePopup-C1-nV47T.js";import{_ as Q,c as m,o as h,w as a,b as e,a as i,Q as p,t as l,a6 as r,f as c,a3 as k,ad as E,ae as U,d as b,aa as y}from"./index-5YOlX_Vd.js";import{Q as C}from"./QSelect-C4EnnKod.js";import{Q as V}from"./QPage-CXooru6d.js";const S={name:"IndexPage",data(){return{loading:!1,lang:localStorage.getItem("lang")||"es",isEU:!0,date:"2026-01-17",time:null,adults:1,kids:0,priceAdult:33,priceKid:16.5,timeOptions:["09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30"].map(t=>({label:t,value:t}))}},computed:{total(){return this.adults*this.priceAdult+this.kids*this.priceKid}},methods:{setLang(t){this.lang=t,this.$setLang(t),this.$q.notify({type:"positive",message:`Idioma: ${t.toUpperCase()}`})},formatEUR(t){return new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(t)},inc(t){t==="adult"&&this.adults++,t==="kid"&&this.kids++},dec(t){t==="adult"&&(this.adults=Math.max(0,this.adults-1)),t==="kid"&&(this.kids=Math.max(0,this.kids-1))},async onBuy(){try{this.loading=!0;const t=[{name:"Entrada Adulto",qty:this.adults,unit_amount:Math.round(this.priceAdult*100)},{name:"Entrada Niño",qty:this.kids,unit_amount:Math.round(this.priceKid*100)}].filter(_=>_.qty>0),{data:s}=await this.$axios.post("stripe/checkout",{items:t,customer_email:null,metadata:{isEU:this.isEU?"1":"0",date:this.date,time:this.time||"",adults:String(this.adults),kids:String(this.kids),total:String(this.total)}});window.location.href=s.checkout_url}catch(t){console.error(t),this.$q.notify({type:"negative",message:"Error creando el checkout. Revisa consola/Network."})}finally{this.loading=!1}}}},I={class:"row justify-center"},R={class:"col-12 col-md-8 col-lg-6"},B={class:"row items-center q-mb-md"},N={class:"text-h6 text-weight-bold"},$={class:"text-caption text-grey-7"},A={class:"row q-col-gutter-md"},L={class:"col-12"},M={class:"text-subtitle2 text-weight-medium"},K={class:"col-12 col-md-6"},P={class:"col-12 col-md-6"},O={class:"text-subtitle2 text-weight-bold q-mb-sm"},D={class:"row items-center"},H={class:"col"},j={class:"text-subtitle2 text-weight-medium"},F={class:"text-caption text-grey-7"},G={class:"col-auto text-right q-mr-md"},T={class:"text-subtitle2 text-weight-bold"},z={class:"text-caption text-grey-7"},J={class:"col-auto"},W={class:"row items-center"},X={class:"col"},Y={class:"text-subtitle2 text-weight-medium"},Z={class:"text-caption text-grey-7"},tt={class:"col-auto text-right q-mr-md"},et={class:"text-subtitle2 text-weight-bold"},st={class:"text-caption text-grey-7"},it={class:"col-auto"},lt={class:"row items-center"},at={class:"col"},ot={class:"text-caption text-grey-7"},dt={class:"text-subtitle1 text-weight-bold"},nt={class:"col-auto"},ct={class:"text-caption text-grey-7 q-mt-sm"};function rt(t,s,_,ut,d,o){return h(),m(V,{class:"q-pa-md bg-grey-2"},{default:a(()=>[e("div",I,[e("div",R,[i(p,{flat:"",bordered:"",class:"q-pa-md"},{default:a(()=>[e("div",B,[e("div",null,[e("div",N,l(t.$t("tickets.title")),1),e("div",$,l(t.$t("tickets.subtitle")),1)]),i(x),i(u,{color:"primary","text-color":"white",dense:"",class:"q-mr-sm"},{default:a(()=>[r(l(t.$t("tickets.total"))+": "+l(o.formatEUR(o.total)),1)]),_:1}),i(c,{flat:"",dense:"","no-caps":"",icon:"language",label:d.lang.toUpperCase()},{default:a(()=>[i(q,null,{default:a(()=>[i(w,{style:{"min-width":"160px"}},{default:a(()=>[k((h(),m(f,{clickable:"",onClick:s[0]||(s[0]=n=>o.setLang("es"))},{default:a(()=>[i(v,null,{default:a(()=>[...s[9]||(s[9]=[r("Español",-1)])]),_:1})]),_:1})),[[g]]),k((h(),m(f,{clickable:"",onClick:s[1]||(s[1]=n=>o.setLang("en"))},{default:a(()=>[i(v,null,{default:a(()=>[...s[10]||(s[10]=[r("English",-1)])]),_:1})]),_:1})),[[g]])]),_:1})]),_:1})]),_:1},8,["label"])]),e("div",A,[e("div",L,[e("div",M,l(t.$t("tickets.euQuestion")),1),i(E,{modelValue:d.isEU,"onUpdate:modelValue":s[2]||(s[2]=n=>d.isEU=n),inline:"",options:[{label:t.$t("tickets.yes"),value:!0},{label:t.$t("tickets.no"),value:!1}],class:"q-mt-xs"},null,8,["modelValue","options"])]),e("div",K,[i(U,{modelValue:d.date,"onUpdate:modelValue":s[3]||(s[3]=n=>d.date=n),type:"date",dense:"",outlined:"",label:t.$t("tickets.date")},{prepend:a(()=>[i(b,{name:"event"})]),_:1},8,["modelValue","label"])]),e("div",P,[i(C,{modelValue:d.time,"onUpdate:modelValue":s[4]||(s[4]=n=>d.time=n),options:d.timeOptions,dense:"",outlined:"",label:t.$t("tickets.time"),"emit-value":"","map-options":"",clearable:""},{prepend:a(()=>[i(b,{name:"schedule"})]),_:1},8,["modelValue","options","label"])])]),i(y,{class:"q-my-md"}),e("div",O,l(t.$t("tickets.entries")),1),i(p,{flat:"",bordered:"",class:"q-pa-md q-mb-sm"},{default:a(()=>[e("div",D,[e("div",H,[e("div",j,l(t.$t("tickets.adult")),1),e("div",F,l(t.$t("tickets.adultHint")),1)]),e("div",G,[e("div",T,l(o.formatEUR(d.priceAdult)),1),e("div",z,l(t.$t("tickets.each")),1)]),e("div",J,[i(c,{round:"",dense:"",flat:"",icon:"remove",onClick:s[5]||(s[5]=n=>o.dec("adult"))}),i(u,{class:"q-mx-sm",square:""},{default:a(()=>[r(l(d.adults),1)]),_:1}),i(c,{round:"",dense:"",flat:"",icon:"add",onClick:s[6]||(s[6]=n=>o.inc("adult"))})])])]),_:1}),i(p,{flat:"",bordered:"",class:"q-pa-md"},{default:a(()=>[e("div",W,[e("div",X,[e("div",Y,l(t.$t("tickets.kid")),1),e("div",Z,l(t.$t("tickets.kidHint")),1)]),e("div",tt,[e("div",et,l(o.formatEUR(d.priceKid)),1),e("div",st,l(t.$t("tickets.each")),1)]),e("div",it,[i(c,{round:"",dense:"",flat:"",icon:"remove",onClick:s[7]||(s[7]=n=>o.dec("kid"))}),i(u,{class:"q-mx-sm",square:""},{default:a(()=>[r(l(d.kids),1)]),_:1}),i(c,{round:"",dense:"",flat:"",icon:"add",onClick:s[8]||(s[8]=n=>o.inc("kid"))})])])]),_:1}),i(y,{class:"q-my-md"}),e("div",lt,[e("div",at,[e("div",ot,l(t.$t("tickets.subtotal")),1),e("div",dt,l(o.formatEUR(o.total)),1)]),e("div",nt,[i(c,{unelevated:"",color:"black","no-caps":"",icon:"payments",label:t.$t("tickets.pay"),loading:d.loading,disable:o.total<=0,onClick:o.onBuy},null,8,["label","loading","disable","onClick"])])]),e("div",ct,l(t.$t("tickets.note")),1)]),_:1})])])]),_:1})}const gt=Q(S,[["render",rt]]);export{gt as default};
